{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://luna.dev/schemas/sol.config.json",
  "title": "Sol SSG Configuration",
  "description": "Configuration for sol.config.json static site generator",
  "type": "object",
  "properties": {
    "$schema": {
      "type": "string",
      "description": "JSON Schema reference"
    },
    "docs": {
      "type": "string",
      "description": "Source directory containing markdown files",
      "default": "docs"
    },
    "docs_dir": {
      "type": "string",
      "description": "Source directory (alias for 'docs')",
      "default": "docs"
    },
    "output": {
      "type": "string",
      "description": "Output directory for generated HTML",
      "default": "dist"
    },
    "out_dir": {
      "type": "string",
      "description": "Output directory (alias for 'output')",
      "default": "dist"
    },
    "title": {
      "type": "string",
      "description": "Site title",
      "default": "Documentation"
    },
    "description": {
      "type": "string",
      "description": "Site description"
    },
    "base": {
      "type": "string",
      "description": "Base URL for the site",
      "default": "/"
    },
    "base_url": {
      "type": "string",
      "description": "Base URL (alias for 'base')",
      "default": "/"
    },
    "trailingSlash": {
      "type": "boolean",
      "description": "Use trailing slashes in URLs",
      "default": true
    },
    "trailing_slash": {
      "type": "boolean",
      "description": "Use trailing slashes (alias for 'trailingSlash')",
      "default": true
    },
    "deploy": {
      "type": "string",
      "enum": ["static", "cloudflare", "node"],
      "description": "Deploy target",
      "default": "static"
    },
    "exclude": {
      "type": "array",
      "items": { "type": "string" },
      "description": "Directories to exclude from scanning",
      "default": []
    },
    "sanitizeHtml": {
      "type": "boolean",
      "description": "Sanitize HTML content from .html files",
      "default": false
    },
    "nav": {
      "type": "array",
      "description": "Navigation items for top navbar",
      "items": { "$ref": "#/definitions/NavItem" }
    },
    "sidebar": {
      "oneOf": [
        { "type": "string", "enum": ["auto"] },
        { "type": "array", "items": { "$ref": "#/definitions/SidebarGroup" } },
        { "type": "object", "additionalProperties": { "type": "array", "items": { "$ref": "#/definitions/SidebarItem" } } }
      ],
      "description": "Sidebar configuration (auto or manual)",
      "default": "auto"
    },
    "theme": {
      "$ref": "#/definitions/ThemeConfig",
      "description": "Theme configuration"
    },
    "i18n": {
      "$ref": "#/definitions/I18nConfig",
      "description": "Internationalization configuration"
    },
    "navigation": {
      "$ref": "#/definitions/NavigationConfig",
      "description": "Client navigation configuration"
    },
    "islands": {
      "$ref": "#/definitions/IslandsConfig",
      "description": "Islands configuration for hydration"
    },
    "ogp": {
      "$ref": "#/definitions/OgpConfig",
      "description": "Open Graph Protocol configuration"
    },
    "ogpText": {
      "type": "string",
      "description": "Raw OGP meta tags text"
    },
    "headSnippets": {
      "type": "array",
      "items": { "type": "string" },
      "description": "Custom HTML snippets to inject at end of <head>"
    },
    "bodySnippets": {
      "type": "array",
      "items": { "type": "string" },
      "description": "Custom HTML snippets to inject before </body>"
    }
  },
  "definitions": {
    "NavItem": {
      "type": "object",
      "properties": {
        "text": {
          "type": "string",
          "description": "Display text"
        },
        "link": {
          "type": "string",
          "description": "Link URL"
        },
        "items": {
          "type": "array",
          "items": { "$ref": "#/definitions/NavItem" },
          "description": "Dropdown items"
        }
      },
      "required": ["text"]
    },
    "SidebarGroup": {
      "type": "object",
      "properties": {
        "text": {
          "type": "string",
          "description": "Group title"
        },
        "collapsed": {
          "type": "boolean",
          "description": "Whether collapsed by default",
          "default": false
        },
        "items": {
          "type": "array",
          "items": { "$ref": "#/definitions/SidebarItem" },
          "description": "Items in the group"
        }
      },
      "required": ["text"]
    },
    "SidebarItem": {
      "type": "object",
      "properties": {
        "text": {
          "type": "string",
          "description": "Display text"
        },
        "link": {
          "type": "string",
          "description": "Link URL"
        },
        "collapsed": {
          "type": "boolean",
          "description": "Whether collapsed by default"
        },
        "items": {
          "type": "array",
          "items": { "$ref": "#/definitions/SidebarItem" },
          "description": "Nested items"
        }
      },
      "required": ["text"]
    },
    "ThemeConfig": {
      "type": "object",
      "properties": {
        "primaryColor": {
          "type": "string",
          "description": "Primary color (hex)",
          "default": "#fbbf24"
        },
        "logo": {
          "type": "string",
          "description": "Logo URL"
        },
        "footer": {
          "$ref": "#/definitions/FooterConfig",
          "description": "Footer configuration"
        },
        "socialLinks": {
          "type": "array",
          "items": { "$ref": "#/definitions/SocialLink" },
          "description": "Social links"
        }
      }
    },
    "FooterConfig": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string",
          "description": "Footer message"
        },
        "copyright": {
          "type": "string",
          "description": "Copyright text"
        },
        "links": {
          "type": "array",
          "items": { "$ref": "#/definitions/FooterColumn" },
          "description": "Footer link columns"
        }
      }
    },
    "FooterColumn": {
      "type": "object",
      "properties": {
        "title": {
          "type": "string",
          "description": "Column title"
        },
        "items": {
          "type": "array",
          "items": { "$ref": "#/definitions/FooterLink" },
          "description": "Links in this column"
        }
      },
      "required": ["title"]
    },
    "FooterLink": {
      "type": "object",
      "properties": {
        "label": {
          "type": "string",
          "description": "Link text"
        },
        "href": {
          "type": "string",
          "description": "Link URL"
        }
      },
      "required": ["label", "href"]
    },
    "SocialLink": {
      "type": "object",
      "properties": {
        "icon": {
          "type": "string",
          "description": "Icon type: github, twitter, discord, etc."
        },
        "link": {
          "type": "string",
          "description": "Link URL"
        }
      },
      "required": ["icon", "link"]
    },
    "I18nConfig": {
      "type": "object",
      "properties": {
        "defaultLocale": {
          "type": "string",
          "description": "Default locale code",
          "default": "en"
        },
        "locales": {
          "type": "array",
          "items": { "$ref": "#/definitions/LocaleConfig" },
          "description": "Available locales"
        }
      }
    },
    "LocaleConfig": {
      "type": "object",
      "properties": {
        "code": {
          "type": "string",
          "description": "Locale code (e.g., 'en', 'ja')"
        },
        "label": {
          "type": "string",
          "description": "Display label"
        },
        "path": {
          "type": "string",
          "description": "URL path prefix"
        }
      },
      "required": ["code"]
    },
    "NavigationConfig": {
      "type": "object",
      "properties": {
        "spa": {
          "type": "boolean",
          "description": "Enable SPA-style navigation",
          "default": false
        },
        "viewTransitions": {
          "type": "boolean",
          "description": "Enable View Transitions API",
          "default": true
        },
        "keyboard": {
          "type": "boolean",
          "description": "Enable keyboard navigation",
          "default": true
        }
      }
    },
    "IslandsConfig": {
      "type": "object",
      "properties": {
        "dir": {
          "type": "string",
          "description": "Directory containing island source files",
          "default": "docs/components"
        },
        "basePath": {
          "type": "string",
          "description": "Base path for island URLs",
          "default": "/components/"
        }
      }
    },
    "OgpConfig": {
      "type": "object",
      "properties": {
        "siteUrl": {
          "type": "string",
          "description": "Site URL for og:url"
        },
        "image": {
          "type": "string",
          "description": "Default OGP image URL"
        },
        "twitterHandle": {
          "type": "string",
          "description": "Site Twitter/X handle"
        },
        "twitterCard": {
          "type": "string",
          "enum": ["summary", "summary_large_image"],
          "description": "Default Twitter card type"
        }
      }
    }
  },
  "additionalProperties": false
}
